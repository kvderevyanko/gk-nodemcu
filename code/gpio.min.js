const pins={5:"Красный",6:"Зелёный",7:"Синий",8:"Белый"};let htmlGpio="";for(const[key,value]of Object.entries(pins))htmlGpio+='<label><input type="checkbox"  name="'+key+'"  id="'+key+'"  value="'+key+'" onchange="sendGpioStatus(this)"> '+value+"</label>";function sendGpioStatus(e){let n=document.getElementsByTagName("input"),t=[];Object.keys(n).forEach(function(e){t.push(n[e].name+"="+(n[e].checked?1:0))}),sendGpioRequest(t.join("&"))}function sendGpioRequest(e){let n=new XMLHttpRequest;n.onreadystatechange=function(){n.readyState==XMLHttpRequest.DONE&&console.log(n.responseText)},n.open("GET","/gpio.lc?"+e,!0),n.send(null)}function loadSettings(){let e=new XMLHttpRequest;e.onreadystatechange=function(){if(e.readyState==XMLHttpRequest.DONE)try{let n=JSON.parse(e.response);Object.keys(n).forEach(function(e){let t=document.getElementById(e);t&&Number(n[e])&&(t.checked=!0)})}catch(t){console.log(t)}},e.open("GET","/json/gpio-action.json",!0),e.send(null)}document.getElementById("gpioBlock").innerHTML=htmlGpio,setTimeout(loadSettings,500);